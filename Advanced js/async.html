<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
        console.log('person1: shows ticket')
        console.log('person2: shows ticket')

        /*const promiseWifeBringingTickets = new Promise((resolve,reject) =>{
            setTimeout(() =>{
                resolve('ticket')
            },3000)
        });

        const getPopcorn = promiseWifeBringingTickets.then((t) =>{
            console.log('wife: i have the tickets')
            console.log('husband: we should go in')
            console.log('wife: no iam hungry')
            return new Promise((resolve,reject) => resolve('${t} popcorn'))
        });

        const getButter = getPopcorn.then((t) =>{
            console.log('husband: i got some popcorn')
            console.log('husband: we should go in')
            console.log('wife: i need butter on my popcorn')
            return new Promise((resolve,reject) => resolve('${t} butter'))
        });

        getButter.then((t) => console.log(t));*/

        const preMovie = async() =>{
            
            const promiseWifeBringingTickets = new Promise((resolve,reject) =>{
                setTimeout(() => resolve('ticket'),3000)
            })

            const getPopcorn = new Promise((resolve,reject) => resolve('popcorn'));

            const getButter = new Promise((resolve,reject) => resolve('butter'));

            const getColdDrinks = new Promise((resolve,reject) => resolve('colddrinks'));

            let ticket = await promiseWifeBringingTickets;
            let [popcorn, butter, colddrinks] = await Promise.all([getPopcorn,getButter,getColdDrinks])

            console.log('${popcorn}, ${butter}, ${cold drinks}')
            return ticket;
        }

        preMovie().then((m) => console.log('person3: shows ${m}'))

        console.log('person4: shows ticket')
        console.log('person5: shows ticket')
    </script>
</body>
</html>